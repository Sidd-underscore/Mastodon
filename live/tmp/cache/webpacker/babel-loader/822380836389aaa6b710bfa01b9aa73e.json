{"ast":null,"code":"var _jsxFileName = \"/home/runner/Mastodon/live/app/javascript/mastodon/features/blocks/index.js\",\n    _dec,\n    _class,\n    _class2,\n    _temp;\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { debounce } from 'lodash';\nimport PropTypes from 'prop-types';\nimport LoadingIndicator from '../../components/loading_indicator';\nimport Column from '../ui/components/column';\nimport ColumnBackButtonSlim from '../../components/column_back_button_slim';\nimport AccountContainer from '../../containers/account_container';\nimport { fetchBlocks, expandBlocks } from '../../actions/blocks';\nimport ScrollableList from '../../components/scrollable_list';\nvar messages = defineMessages({\n  heading: {\n    \"id\": \"column.blocks\",\n    \"defaultMessage\": \"Blocked users\"\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    accountIds: state.getIn(['user_lists', 'blocks', 'items']),\n    hasMore: !!state.getIn(['user_lists', 'blocks', 'next']),\n    isLoading: state.getIn(['user_lists', 'blocks', 'isLoading'], true)\n  };\n};\n\nvar Blocks = (_dec = connect(mapStateToProps), _dec(_class = injectIntl(_class = (_temp = _class2 = /*#__PURE__*/function (_ImmutablePureCompone) {\n  _inheritsLoose(Blocks, _ImmutablePureCompone);\n\n  function Blocks() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _ImmutablePureCompone.call.apply(_ImmutablePureCompone, [this].concat(args)) || this;\n    _this.handleLoadMore = debounce(function () {\n      _this.props.dispatch(expandBlocks());\n    }, 300, {\n      leading: true\n    });\n    return _this;\n  }\n\n  var _proto = Blocks.prototype;\n\n  _proto.componentWillMount = function componentWillMount() {\n    this.props.dispatch(fetchBlocks());\n  };\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        intl = _this$props.intl,\n        accountIds = _this$props.accountIds,\n        hasMore = _this$props.hasMore,\n        multiColumn = _this$props.multiColumn,\n        isLoading = _this$props.isLoading;\n\n    if (!accountIds) {\n      return /*#__PURE__*/React.createElement(Column, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(LoadingIndicator, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }));\n    }\n\n    var emptyMessage = /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"empty_column.blocks\",\n      defaultMessage: \"You haven't blocked any users yet.\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 26\n      }\n    });\n    return /*#__PURE__*/React.createElement(Column, {\n      bindToDocument: !multiColumn,\n      icon: \"ban\",\n      heading: intl.formatMessage(messages.heading),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ColumnBackButtonSlim, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ScrollableList, {\n      scrollKey: \"blocks\",\n      onLoadMore: this.handleLoadMore,\n      hasMore: hasMore,\n      isLoading: isLoading,\n      emptyMessage: emptyMessage,\n      bindToDocument: !multiColumn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, accountIds.map(function (id) {\n      return /*#__PURE__*/React.createElement(AccountContainer, {\n        key: id,\n        id: id,\n        __self: _this2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }\n      });\n    })));\n  };\n\n  return Blocks;\n}(ImmutablePureComponent), _class2.propTypes = {\n  params: PropTypes.object.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  accountIds: ImmutablePropTypes.list,\n  hasMore: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  intl: PropTypes.object.isRequired,\n  multiColumn: PropTypes.bool\n}, _temp)) || _class) || _class);\nexport { Blocks as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/features/blocks/index.js"],"names":["React","connect","defineMessages","injectIntl","FormattedMessage","ImmutablePureComponent","ImmutablePropTypes","debounce","PropTypes","LoadingIndicator","Column","ColumnBackButtonSlim","AccountContainer","fetchBlocks","expandBlocks","ScrollableList","messages","heading","mapStateToProps","state","accountIds","getIn","hasMore","isLoading","Blocks","handleLoadMore","props","dispatch","leading","componentWillMount","render","intl","multiColumn","emptyMessage","formatMessage","map","id","propTypes","params","object","isRequired","func","list","bool"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { debounce } from 'lodash';\nimport PropTypes from 'prop-types';\nimport LoadingIndicator from '../../components/loading_indicator';\nimport Column from '../ui/components/column';\nimport ColumnBackButtonSlim from '../../components/column_back_button_slim';\nimport AccountContainer from '../../containers/account_container';\nimport { fetchBlocks, expandBlocks } from '../../actions/blocks';\nimport ScrollableList from '../../components/scrollable_list';\n\nconst messages = defineMessages({\n  heading: { id: 'column.blocks', defaultMessage: 'Blocked users' },\n});\n\nconst mapStateToProps = state => ({\n  accountIds: state.getIn(['user_lists', 'blocks', 'items']),\n  hasMore: !!state.getIn(['user_lists', 'blocks', 'next']),\n  isLoading: state.getIn(['user_lists', 'blocks', 'isLoading'], true),\n});\n\nexport default @connect(mapStateToProps)\n@injectIntl\nclass Blocks extends ImmutablePureComponent {\n\n  static propTypes = {\n    params: PropTypes.object.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    accountIds: ImmutablePropTypes.list,\n    hasMore: PropTypes.bool,\n    isLoading: PropTypes.bool,\n    intl: PropTypes.object.isRequired,\n    multiColumn: PropTypes.bool,\n  };\n\n  componentWillMount () {\n    this.props.dispatch(fetchBlocks());\n  }\n\n  handleLoadMore = debounce(() => {\n    this.props.dispatch(expandBlocks());\n  }, 300, { leading: true });\n\n  render () {\n    const { intl, accountIds, hasMore, multiColumn, isLoading } = this.props;\n\n    if (!accountIds) {\n      return (\n        <Column>\n          <LoadingIndicator />\n        </Column>\n      );\n    }\n\n    const emptyMessage = <FormattedMessage id='empty_column.blocks' defaultMessage=\"You haven't blocked any users yet.\" />;\n\n    return (\n      <Column bindToDocument={!multiColumn} icon='ban' heading={intl.formatMessage(messages.heading)}>\n        <ColumnBackButtonSlim />\n        <ScrollableList\n          scrollKey='blocks'\n          onLoadMore={this.handleLoadMore}\n          hasMore={hasMore}\n          isLoading={isLoading}\n          emptyMessage={emptyMessage}\n          bindToDocument={!multiColumn}\n        >\n          {accountIds.map(id =>\n            <AccountContainer key={id} id={id} />,\n          )}\n        </ScrollableList>\n      </Column>\n    );\n  }\n\n}\n"]},"metadata":{"react-intl":{"messages":[{"id":"column.blocks","defaultMessage":"Blocked users"},{"id":"empty_column.blocks","defaultMessage":"You haven't blocked any users yet."}]}},"sourceType":"module"}