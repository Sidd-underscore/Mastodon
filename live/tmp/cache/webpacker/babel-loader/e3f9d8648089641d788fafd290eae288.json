{"ast":null,"code":"import { MODAL_OPEN, MODAL_CLOSE } from '../actions/modal';\nimport { TIMELINE_DELETE } from '../actions/timelines';\nimport { Stack as ImmutableStack, Map as ImmutableMap } from 'immutable';\nexport default function modal(state, action) {\n  if (state === void 0) {\n    state = ImmutableStack();\n  }\n\n  switch (action.type) {\n    case MODAL_OPEN:\n      return state.unshift(ImmutableMap({\n        modalType: action.modalType,\n        modalProps: action.modalProps\n      }));\n\n    case MODAL_CLOSE:\n      return action.modalType === undefined || action.modalType === state.getIn([0, 'modalType']) ? state.shift() : state;\n\n    case TIMELINE_DELETE:\n      return state.filterNot(function (modal) {\n        return modal.get('modalProps').statusId === action.id;\n      });\n\n    default:\n      return state;\n  }\n}\n;","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/reducers/modal.js"],"names":["MODAL_OPEN","MODAL_CLOSE","TIMELINE_DELETE","Stack","ImmutableStack","Map","ImmutableMap","modal","state","action","type","unshift","modalType","modalProps","undefined","getIn","shift","filterNot","get","statusId","id"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,eAAT,QAAgC,sBAAhC;AACA,SAASC,KAAK,IAAIC,cAAlB,EAAkCC,GAAG,IAAIC,YAAzC,QAA6D,WAA7D;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAyCC,MAAzC,EAAiD;AAAA,MAAlCD,KAAkC;AAAlCA,IAAAA,KAAkC,GAA1BJ,cAAc,EAAY;AAAA;;AAC9D,UAAOK,MAAM,CAACC,IAAd;AACA,SAAKV,UAAL;AACM,aAAOQ,KAAK,CAACG,OAAN,CAAcL,YAAY,CAAC;AAAEM,QAAAA,SAAS,EAAEH,MAAM,CAACG,SAApB;AAA+BC,QAAAA,UAAU,EAAEJ,MAAM,CAACI;AAAlD,OAAD,CAA1B,CAAP;;AACN,SAAKZ,WAAL;AACE,aAAQQ,MAAM,CAACG,SAAP,KAAqBE,SAArB,IAAkCL,MAAM,CAACG,SAAP,KAAqBJ,KAAK,CAACO,KAAN,CAAY,CAAC,CAAD,EAAI,WAAJ,CAAZ,CAAxD,GAAyFP,KAAK,CAACQ,KAAN,EAAzF,GAAyGR,KAAhH;;AACF,SAAKN,eAAL;AACM,aAAOM,KAAK,CAACS,SAAN,CAAgB,UAACV,KAAD;AAAA,eAAWA,KAAK,CAACW,GAAN,CAAU,YAAV,EAAwBC,QAAxB,KAAqCV,MAAM,CAACW,EAAvD;AAAA,OAAhB,CAAP;;AACN;AACE,aAAOZ,KAAP;AARF;AAUD;AAAA","sourcesContent":["import { MODAL_OPEN, MODAL_CLOSE } from '../actions/modal';\nimport { TIMELINE_DELETE } from '../actions/timelines';\nimport { Stack as ImmutableStack, Map as ImmutableMap } from 'immutable';\n\nexport default function modal(state = ImmutableStack(), action) {\n  switch(action.type) {\n  case MODAL_OPEN:\n        return state.unshift(ImmutableMap({ modalType: action.modalType, modalProps: action.modalProps }));\n  case MODAL_CLOSE:\n    return (action.modalType === undefined || action.modalType === state.getIn([0, 'modalType'])) ? state.shift() : state;\n  case TIMELINE_DELETE:\n        return state.filterNot((modal) => modal.get('modalProps').statusId === action.id);\n  default:\n    return state;\n  }\n};\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}