{"ast":null,"code":"import api from '../api';\nimport { openModal, closeModal } from './modal';\nexport var REPORT_INIT = 'REPORT_INIT';\nexport var REPORT_CANCEL = 'REPORT_CANCEL';\nexport var REPORT_SUBMIT_REQUEST = 'REPORT_SUBMIT_REQUEST';\nexport var REPORT_SUBMIT_SUCCESS = 'REPORT_SUBMIT_SUCCESS';\nexport var REPORT_SUBMIT_FAIL = 'REPORT_SUBMIT_FAIL';\nexport var REPORT_STATUS_TOGGLE = 'REPORT_STATUS_TOGGLE';\nexport var REPORT_COMMENT_CHANGE = 'REPORT_COMMENT_CHANGE';\nexport var REPORT_FORWARD_CHANGE = 'REPORT_FORWARD_CHANGE';\nexport function initReport(account, status) {\n  return function (dispatch) {\n    dispatch({\n      type: REPORT_INIT,\n      account,\n      status\n    });\n    dispatch(openModal('REPORT'));\n  };\n}\n;\nexport function cancelReport() {\n  return {\n    type: REPORT_CANCEL\n  };\n}\n;\nexport function toggleStatusReport(statusId, checked) {\n  return {\n    type: REPORT_STATUS_TOGGLE,\n    statusId,\n    checked\n  };\n}\n;\nexport function submitReport() {\n  return function (dispatch, getState) {\n    dispatch(submitReportRequest());\n    api(getState).post('/api/v1/reports', {\n      account_id: getState().getIn(['reports', 'new', 'account_id']),\n      status_ids: getState().getIn(['reports', 'new', 'status_ids']),\n      comment: getState().getIn(['reports', 'new', 'comment']),\n      forward: getState().getIn(['reports', 'new', 'forward'])\n    }).then(function (response) {\n      dispatch(closeModal());\n      dispatch(submitReportSuccess(response.data));\n    }).catch(function (error) {\n      return dispatch(submitReportFail(error));\n    });\n  };\n}\n;\nexport function submitReportRequest() {\n  return {\n    type: REPORT_SUBMIT_REQUEST\n  };\n}\n;\nexport function submitReportSuccess(report) {\n  return {\n    type: REPORT_SUBMIT_SUCCESS,\n    report\n  };\n}\n;\nexport function submitReportFail(error) {\n  return {\n    type: REPORT_SUBMIT_FAIL,\n    error\n  };\n}\n;\nexport function changeReportComment(comment) {\n  return {\n    type: REPORT_COMMENT_CHANGE,\n    comment\n  };\n}\n;\nexport function changeReportForward(forward) {\n  return {\n    type: REPORT_FORWARD_CHANGE,\n    forward\n  };\n}\n;","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/actions/reports.js"],"names":["api","openModal","closeModal","REPORT_INIT","REPORT_CANCEL","REPORT_SUBMIT_REQUEST","REPORT_SUBMIT_SUCCESS","REPORT_SUBMIT_FAIL","REPORT_STATUS_TOGGLE","REPORT_COMMENT_CHANGE","REPORT_FORWARD_CHANGE","initReport","account","status","dispatch","type","cancelReport","toggleStatusReport","statusId","checked","submitReport","getState","submitReportRequest","post","account_id","getIn","status_ids","comment","forward","then","response","submitReportSuccess","data","catch","error","submitReportFail","report","changeReportComment","changeReportForward"],"mappings":"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","sourcesContent":["import api from '../api';\nimport { openModal, closeModal } from './modal';\n\nexport const REPORT_INIT   = 'REPORT_INIT';\nexport const REPORT_CANCEL = 'REPORT_CANCEL';\n\nexport const REPORT_SUBMIT_REQUEST = 'REPORT_SUBMIT_REQUEST';\nexport const REPORT_SUBMIT_SUCCESS = 'REPORT_SUBMIT_SUCCESS';\nexport const REPORT_SUBMIT_FAIL    = 'REPORT_SUBMIT_FAIL';\n\nexport const REPORT_STATUS_TOGGLE  = 'REPORT_STATUS_TOGGLE';\nexport const REPORT_COMMENT_CHANGE = 'REPORT_COMMENT_CHANGE';\nexport const REPORT_FORWARD_CHANGE = 'REPORT_FORWARD_CHANGE';\n\nexport function initReport(account, status) {\n  return dispatch => {\n    dispatch({\n      type: REPORT_INIT,\n      account,\n      status,\n    });\n\n    dispatch(openModal('REPORT'));\n  };\n};\n\nexport function cancelReport() {\n  return {\n    type: REPORT_CANCEL,\n  };\n};\n\nexport function toggleStatusReport(statusId, checked) {\n  return {\n    type: REPORT_STATUS_TOGGLE,\n    statusId,\n    checked,\n  };\n};\n\nexport function submitReport() {\n  return (dispatch, getState) => {\n    dispatch(submitReportRequest());\n\n    api(getState).post('/api/v1/reports', {\n      account_id: getState().getIn(['reports', 'new', 'account_id']),\n      status_ids: getState().getIn(['reports', 'new', 'status_ids']),\n      comment: getState().getIn(['reports', 'new', 'comment']),\n      forward: getState().getIn(['reports', 'new', 'forward']),\n    }).then(response => {\n      dispatch(closeModal());\n      dispatch(submitReportSuccess(response.data));\n    }).catch(error => dispatch(submitReportFail(error)));\n  };\n};\n\nexport function submitReportRequest() {\n  return {\n    type: REPORT_SUBMIT_REQUEST,\n  };\n};\n\nexport function submitReportSuccess(report) {\n  return {\n    type: REPORT_SUBMIT_SUCCESS,\n    report,\n  };\n};\n\nexport function submitReportFail(error) {\n  return {\n    type: REPORT_SUBMIT_FAIL,\n    error,\n  };\n};\n\nexport function changeReportComment(comment) {\n  return {\n    type: REPORT_COMMENT_CHANGE,\n    comment,\n  };\n};\n\nexport function changeReportForward(forward) {\n  return {\n    type: REPORT_FORWARD_CHANGE,\n    forward,\n  };\n};\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}