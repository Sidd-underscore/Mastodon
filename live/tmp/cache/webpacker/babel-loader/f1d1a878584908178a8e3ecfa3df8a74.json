{"ast":null,"code":"import Rails from '@rails/ujs';\nexport var logOut = function logOut() {\n  var form = document.createElement('form');\n  var methodInput = document.createElement('input');\n  methodInput.setAttribute('name', '_method');\n  methodInput.setAttribute('value', 'delete');\n  methodInput.setAttribute('type', 'hidden');\n  form.appendChild(methodInput);\n  var csrfToken = Rails.csrfToken();\n  var csrfParam = Rails.csrfParam();\n\n  if (csrfParam && csrfToken) {\n    var csrfInput = document.createElement('input');\n    csrfInput.setAttribute('name', csrfParam);\n    csrfInput.setAttribute('value', csrfToken);\n    csrfInput.setAttribute('type', 'hidden');\n    form.appendChild(csrfInput);\n  }\n\n  var submitButton = document.createElement('input');\n  submitButton.setAttribute('type', 'submit');\n  form.appendChild(submitButton);\n  form.method = 'post';\n  form.action = '/auth/sign_out';\n  form.style.display = 'none';\n  document.body.appendChild(form);\n  submitButton.click();\n};","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/utils/log_out.js"],"names":["Rails","logOut","form","document","createElement","methodInput","setAttribute","appendChild","csrfToken","csrfParam","csrfInput","submitButton","method","action","style","display","body","click"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AAEA,OAAO,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1B,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAb;AAEA,MAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAApB;AACAC,EAAAA,WAAW,CAACC,YAAZ,CAAyB,MAAzB,EAAiC,SAAjC;AACAD,EAAAA,WAAW,CAACC,YAAZ,CAAyB,OAAzB,EAAkC,QAAlC;AACAD,EAAAA,WAAW,CAACC,YAAZ,CAAyB,MAAzB,EAAiC,QAAjC;AACAJ,EAAAA,IAAI,CAACK,WAAL,CAAiBF,WAAjB;AAEA,MAAMG,SAAS,GAAGR,KAAK,CAACQ,SAAN,EAAlB;AACA,MAAMC,SAAS,GAAGT,KAAK,CAACS,SAAN,EAAlB;;AAEA,MAAIA,SAAS,IAAID,SAAjB,EAA4B;AAC1B,QAAME,SAAS,GAAGP,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAlB;AACAM,IAAAA,SAAS,CAACJ,YAAV,CAAuB,MAAvB,EAA+BG,SAA/B;AACAC,IAAAA,SAAS,CAACJ,YAAV,CAAuB,OAAvB,EAAgCE,SAAhC;AACAE,IAAAA,SAAS,CAACJ,YAAV,CAAuB,MAAvB,EAA+B,QAA/B;AACAJ,IAAAA,IAAI,CAACK,WAAL,CAAiBG,SAAjB;AACD;;AAED,MAAMC,YAAY,GAAGR,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAArB;AACAO,EAAAA,YAAY,CAACL,YAAb,CAA0B,MAA1B,EAAkC,QAAlC;AACAJ,EAAAA,IAAI,CAACK,WAAL,CAAiBI,YAAjB;AAEAT,EAAAA,IAAI,CAACU,MAAL,GAAc,MAAd;AACAV,EAAAA,IAAI,CAACW,MAAL,GAAc,gBAAd;AACAX,EAAAA,IAAI,CAACY,KAAL,CAAWC,OAAX,GAAqB,MAArB;AAEAZ,EAAAA,QAAQ,CAACa,IAAT,CAAcT,WAAd,CAA0BL,IAA1B;AACAS,EAAAA,YAAY,CAACM,KAAb;AACD,CA9BM","sourcesContent":["import Rails from '@rails/ujs';\n\nexport const logOut = () => {\n  const form = document.createElement('form');\n\n  const methodInput = document.createElement('input');\n  methodInput.setAttribute('name', '_method');\n  methodInput.setAttribute('value', 'delete');\n  methodInput.setAttribute('type', 'hidden');\n  form.appendChild(methodInput);\n\n  const csrfToken = Rails.csrfToken();\n  const csrfParam = Rails.csrfParam();\n\n  if (csrfParam && csrfToken) {\n    const csrfInput = document.createElement('input');\n    csrfInput.setAttribute('name', csrfParam);\n    csrfInput.setAttribute('value', csrfToken);\n    csrfInput.setAttribute('type', 'hidden');\n    form.appendChild(csrfInput);\n  }\n\n  const submitButton = document.createElement('input');\n  submitButton.setAttribute('type', 'submit');\n  form.appendChild(submitButton);\n\n  form.method = 'post';\n  form.action = '/auth/sign_out';\n  form.style.display = 'none';\n\n  document.body.appendChild(form);\n  submitButton.click();\n};\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}