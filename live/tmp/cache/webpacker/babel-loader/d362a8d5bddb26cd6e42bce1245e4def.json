{"ast":null,"code":"import { connect } from 'react-redux';\nimport PollButton from '../components/poll_button';\nimport { addPoll, removePoll } from '../../../actions/compose';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    unavailable: state.getIn(['compose', 'is_uploading']) || state.getIn(['compose', 'media_attachments']).size > 0,\n    active: state.getIn(['compose', 'poll']) !== null\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onClick() {\n      dispatch(function (_, getState) {\n        if (getState().getIn(['compose', 'poll'])) {\n          dispatch(removePoll());\n        } else {\n          dispatch(addPoll());\n        }\n      });\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PollButton);","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/features/compose/containers/poll_button_container.js"],"names":["connect","PollButton","addPoll","removePoll","mapStateToProps","state","unavailable","getIn","size","active","mapDispatchToProps","dispatch","onClick","_","getState"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,0BAApC;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCC,IAAAA,WAAW,EAAED,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,cAAZ,CAAZ,KAA6CF,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,mBAAZ,CAAZ,EAA8CC,IAA9C,GAAqD,CAD/E;AAEhCC,IAAAA,MAAM,EAAEJ,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,MAAZ,CAAZ,MAAqC;AAFb,GAAL;AAAA,CAA7B;;AAKA,IAAMG,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AAEtCC,IAAAA,OAAO,GAAI;AACTD,MAAAA,QAAQ,CAAC,UAACE,CAAD,EAAIC,QAAJ,EAAiB;AACxB,YAAIA,QAAQ,GAAGP,KAAX,CAAiB,CAAC,SAAD,EAAY,MAAZ,CAAjB,CAAJ,EAA2C;AACzCI,UAAAA,QAAQ,CAACR,UAAU,EAAX,CAAR;AACD,SAFD,MAEO;AACLQ,UAAAA,QAAQ,CAACT,OAAO,EAAR,CAAR;AACD;AACF,OANO,CAAR;AAOD;;AAVqC,GAAL;AAAA,CAAnC;;AAcA,eAAeF,OAAO,CAACI,eAAD,EAAkBM,kBAAlB,CAAP,CAA6CT,UAA7C,CAAf","sourcesContent":["import { connect } from 'react-redux';\nimport PollButton from '../components/poll_button';\nimport { addPoll, removePoll } from '../../../actions/compose';\n\nconst mapStateToProps = state => ({\n  unavailable: state.getIn(['compose', 'is_uploading']) || (state.getIn(['compose', 'media_attachments']).size > 0),\n  active: state.getIn(['compose', 'poll']) !== null,\n});\n\nconst mapDispatchToProps = dispatch => ({\n\n  onClick () {\n    dispatch((_, getState) => {\n      if (getState().getIn(['compose', 'poll'])) {\n        dispatch(removePoll());\n      } else {\n        dispatch(addPoll());\n      }\n    });\n  },\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PollButton);\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}