{"ast":null,"code":"import { showAlertForError } from '../actions/alerts';\nvar defaultFailSuffix = 'FAIL';\nexport default function errorsMiddleware() {\n  return function (_ref) {\n    var dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type && !action.skipAlert) {\n          var isFail = new RegExp(defaultFailSuffix + \"$\", 'g');\n\n          if (action.type.match(isFail)) {\n            dispatch(showAlertForError(action.error, action.skipNotFound));\n          }\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n;","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/middleware/errors.js"],"names":["showAlertForError","defaultFailSuffix","errorsMiddleware","dispatch","next","action","type","skipAlert","isFail","RegExp","match","error","skipNotFound"],"mappings":"AAAA,SAASA,iBAAT,QAAkC,mBAAlC;AAEA,IAAMC,iBAAiB,GAAG,MAA1B;AAEA,eAAe,SAASC,gBAAT,GAA4B;AACzC,SAAO;AAAA,QAAGC,QAAH,QAAGA,QAAH;AAAA,WAAkB,UAAAC,IAAI;AAAA,aAAI,UAAAC,MAAM,EAAI;AACzC,YAAIA,MAAM,CAACC,IAAP,IAAe,CAACD,MAAM,CAACE,SAA3B,EAAsC;AACpC,cAAMC,MAAM,GAAG,IAAIC,MAAJ,CAAcR,iBAAd,QAAoC,GAApC,CAAf;;AAEA,cAAII,MAAM,CAACC,IAAP,CAAYI,KAAZ,CAAkBF,MAAlB,CAAJ,EAA+B;AAC7BL,YAAAA,QAAQ,CAACH,iBAAiB,CAACK,MAAM,CAACM,KAAR,EAAeN,MAAM,CAACO,YAAtB,CAAlB,CAAR;AACD;AACF;;AAED,eAAOR,IAAI,CAACC,MAAD,CAAX;AACD,OAV4B;AAAA,KAAtB;AAAA,GAAP;AAWD;AAAA","sourcesContent":["import { showAlertForError } from '../actions/alerts';\n\nconst defaultFailSuffix = 'FAIL';\n\nexport default function errorsMiddleware() {\n  return ({ dispatch }) => next => action => {\n    if (action.type && !action.skipAlert) {\n      const isFail = new RegExp(`${defaultFailSuffix}$`, 'g');\n\n      if (action.type.match(isFail)) {\n        dispatch(showAlertForError(action.error, action.skipNotFound));\n      }\n    }\n\n    return next(action);\n  };\n};\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}