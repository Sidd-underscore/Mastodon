{"ast":null,"code":"var _jsxFileName = \"/home/runner/Mastodon/live/app/javascript/mastodon/components/picture_in_picture_placeholder.js\",\n    _dec,\n    _class,\n    _class2,\n    _temp;\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'mastodon/components/icon';\nimport { removePictureInPicture } from 'mastodon/actions/picture_in_picture';\nimport { connect } from 'react-redux';\nimport { debounce } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nvar PictureInPicturePlaceholder = (_dec = connect(), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(PictureInPicturePlaceholder, _React$PureComponent);\n\n  function PictureInPicturePlaceholder() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      width: _this.props.width,\n      height: _this.props.width && _this.props.width / (16 / 9)\n    };\n\n    _this.handleClick = function () {\n      var dispatch = _this.props.dispatch;\n      dispatch(removePictureInPicture());\n    };\n\n    _this.setRef = function (c) {\n      _this.node = c;\n\n      if (_this.node) {\n        _this._setDimensions();\n      }\n    };\n\n    _this.handleResize = debounce(function () {\n      if (_this.node) {\n        _this._setDimensions();\n      }\n    }, 250, {\n      trailing: true\n    });\n    return _this;\n  }\n\n  var _proto = PictureInPicturePlaceholder.prototype;\n\n  _proto._setDimensions = function _setDimensions() {\n    var width = this.node.offsetWidth;\n    var height = width / (16 / 9);\n    this.setState({\n      width,\n      height\n    });\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('resize', this.handleResize, {\n      passive: true\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  };\n\n  _proto.render = function render() {\n    var height = this.state.height;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setRef,\n      className: \"picture-in-picture-placeholder\",\n      style: {\n        height\n      },\n      role: \"button\",\n      tabIndex: \"0\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      id: \"window-restore\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"picture_in_picture.restore\",\n      defaultMessage: \"Put it back\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return PictureInPicturePlaceholder;\n}(React.PureComponent), _class2.propTypes = {\n  width: PropTypes.number,\n  dispatch: PropTypes.func.isRequired\n}, _temp)) || _class);\nexport { PictureInPicturePlaceholder as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/components/picture_in_picture_placeholder.js"],"names":["React","PropTypes","Icon","removePictureInPicture","connect","debounce","FormattedMessage","PictureInPicturePlaceholder","state","width","props","height","handleClick","dispatch","setRef","c","node","_setDimensions","handleResize","trailing","offsetWidth","setState","componentDidMount","window","addEventListener","passive","componentWillUnmount","removeEventListener","render","PureComponent","propTypes","number","func","isRequired"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AACA,SAASC,sBAAT,QAAuC,qCAAvC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,SAASC,gBAAT,QAAiC,YAAjC;IAGMC,2B,WADUH,OAAO,E;;;;;;;;;;;UAQrBI,K,GAAQ;AACNC,MAAAA,KAAK,EAAE,MAAKC,KAAL,CAAWD,KADZ;AAENE,MAAAA,MAAM,EAAE,MAAKD,KAAL,CAAWD,KAAX,IAAqB,MAAKC,KAAL,CAAWD,KAAX,IAAoB,KAAG,CAAvB;AAFvB,K;;UAKRG,W,GAAc,YAAM;AAClB,UAAQC,QAAR,GAAqB,MAAKH,KAA1B,CAAQG,QAAR;AACAA,MAAAA,QAAQ,CAACV,sBAAsB,EAAvB,CAAR;AACD,K;;UAEDW,M,GAAS,UAAAC,CAAC,EAAI;AACZ,YAAKC,IAAL,GAAYD,CAAZ;;AAEA,UAAI,MAAKC,IAAT,EAAe;AACb,cAAKC,cAAL;AACD;AACF,K;;UAiBDC,Y,GAAeb,QAAQ,CAAC,YAAM;AAC5B,UAAI,MAAKW,IAAT,EAAe;AACb,cAAKC,cAAL;AACD;AACF,KAJsB,EAIpB,GAJoB,EAIf;AACNE,MAAAA,QAAQ,EAAE;AADJ,KAJe,C;;;;;;SAfvBF,c,GAAA,0BAAkB;AAChB,QAAMR,KAAK,GAAI,KAAKO,IAAL,CAAUI,WAAzB;AACA,QAAMT,MAAM,GAAGF,KAAK,IAAI,KAAG,CAAP,CAApB;AAEA,SAAKY,QAAL,CAAc;AAAEZ,MAAAA,KAAF;AAASE,MAAAA;AAAT,KAAd;AACD,G;;SAEDW,iB,GAAA,6BAAqB;AACnBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKN,YAAvC,EAAqD;AAAEO,MAAAA,OAAO,EAAE;AAAX,KAArD;AACD,G;;SAEDC,oB,GAAA,gCAAwB;AACtBH,IAAAA,MAAM,CAACI,mBAAP,CAA2B,QAA3B,EAAqC,KAAKT,YAA1C;AACD,G;;SAUDU,M,GAAA,kBAAU;AACR,QAAQjB,MAAR,GAAmB,KAAKH,KAAxB,CAAQG,MAAR;AAEA,wBACE;AAAK,MAAA,GAAG,EAAE,KAAKG,MAAf;AAAuB,MAAA,SAAS,EAAC,gCAAjC;AAAkE,MAAA,KAAK,EAAE;AAAEH,QAAAA;AAAF,OAAzE;AAAqF,MAAA,IAAI,EAAC,QAA1F;AAAmG,MAAA,QAAQ,EAAC,GAA5G;AAAgH,MAAA,OAAO,EAAE,KAAKC,WAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,gBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,gBAAD;AAAkB,MAAA,EAAE,EAAC,4BAArB;AAAkD,MAAA,cAAc,EAAC,aAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAMD,G;;;EAzDuCZ,KAAK,CAAC6B,a,WAEvCC,S,GAAY;AACjBrB,EAAAA,KAAK,EAAER,SAAS,CAAC8B,MADA;AAEjBlB,EAAAA,QAAQ,EAAEZ,SAAS,CAAC+B,IAAV,CAAeC;AAFR,C;SAFf1B,2B","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from 'mastodon/components/icon';\nimport { removePictureInPicture } from 'mastodon/actions/picture_in_picture';\nimport { connect } from 'react-redux';\nimport { debounce } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\n\nexport default @connect()\nclass PictureInPicturePlaceholder extends React.PureComponent {\n\n  static propTypes = {\n    width: PropTypes.number,\n    dispatch: PropTypes.func.isRequired,\n  };\n\n  state = {\n    width: this.props.width,\n    height: this.props.width && (this.props.width / (16/9)),\n  };\n\n  handleClick = () => {\n    const { dispatch } = this.props;\n    dispatch(removePictureInPicture());\n  }\n\n  setRef = c => {\n    this.node = c;\n\n    if (this.node) {\n      this._setDimensions();\n    }\n  }\n\n  _setDimensions () {\n    const width  = this.node.offsetWidth;\n    const height = width / (16/9);\n\n    this.setState({ width, height });\n  }\n\n  componentDidMount () {\n    window.addEventListener('resize', this.handleResize, { passive: true });\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  handleResize = debounce(() => {\n    if (this.node) {\n      this._setDimensions();\n    }\n  }, 250, {\n    trailing: true,\n  });\n\n  render () {\n    const { height } = this.state;\n\n    return (\n      <div ref={this.setRef} className='picture-in-picture-placeholder' style={{ height }} role='button' tabIndex='0' onClick={this.handleClick}>\n        <Icon id='window-restore' />\n        <FormattedMessage id='picture_in_picture.restore' defaultMessage='Put it back' />\n      </div>\n    );\n  }\n\n}\n"]},"metadata":{"react-intl":{"messages":[{"id":"picture_in_picture.restore","defaultMessage":"Put it back"}]}},"sourceType":"module"}