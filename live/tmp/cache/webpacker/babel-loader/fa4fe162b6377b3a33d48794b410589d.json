{"ast":null,"code":"import { POLLS_IMPORT } from 'mastodon/actions/importer';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nvar importPolls = function importPolls(state, polls) {\n  return state.withMutations(function (map) {\n    return polls.forEach(function (poll) {\n      return map.set(poll.id, fromJS(poll));\n    });\n  });\n};\n\nvar initialState = ImmutableMap();\nexport default function polls(state, action) {\n  if (state === void 0) {\n    state = initialState;\n  }\n\n  switch (action.type) {\n    case POLLS_IMPORT:\n      return importPolls(state, action.polls);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/reducers/polls.js"],"names":["POLLS_IMPORT","Map","ImmutableMap","fromJS","importPolls","state","polls","withMutations","map","forEach","poll","set","id","initialState","action","type"],"mappings":"AAAA,SAASA,YAAT,QAA6B,2BAA7B;AACA,SAASC,GAAG,IAAIC,YAAhB,EAA8BC,MAA9B,QAA4C,WAA5C;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAQC,KAAR;AAAA,SAAkBD,KAAK,CAACE,aAAN,CAAoB,UAAAC,GAAG;AAAA,WAAIF,KAAK,CAACG,OAAN,CAAc,UAAAC,IAAI;AAAA,aAAIF,GAAG,CAACG,GAAJ,CAAQD,IAAI,CAACE,EAAb,EAAiBT,MAAM,CAACO,IAAD,CAAvB,CAAJ;AAAA,KAAlB,CAAJ;AAAA,GAAvB,CAAlB;AAAA,CAApB;;AAEA,IAAMG,YAAY,GAAGX,YAAY,EAAjC;AAEA,eAAe,SAASI,KAAT,CAAeD,KAAf,EAAqCS,MAArC,EAA6C;AAAA,MAA9BT,KAA8B;AAA9BA,IAAAA,KAA8B,GAAtBQ,YAAsB;AAAA;;AAC1D,UAAOC,MAAM,CAACC,IAAd;AACA,SAAKf,YAAL;AACE,aAAOI,WAAW,CAACC,KAAD,EAAQS,MAAM,CAACR,KAAf,CAAlB;;AACF;AACE,aAAOD,KAAP;AAJF;AAMD","sourcesContent":["import { POLLS_IMPORT } from 'mastodon/actions/importer';\nimport { Map as ImmutableMap, fromJS } from 'immutable';\n\nconst importPolls = (state, polls) => state.withMutations(map => polls.forEach(poll => map.set(poll.id, fromJS(poll))));\n\nconst initialState = ImmutableMap();\n\nexport default function polls(state = initialState, action) {\n  switch(action.type) {\n  case POLLS_IMPORT:\n    return importPolls(state, action.polls);\n  default:\n    return state;\n  }\n}\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}