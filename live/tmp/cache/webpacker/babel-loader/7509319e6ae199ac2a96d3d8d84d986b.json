{"ast":null,"code":"import { connect } from 'react-redux';\nimport UploadButton from '../components/upload_button';\nimport { uploadCompose } from '../../../actions/compose';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    disabled: state.getIn(['compose', 'is_uploading']) || state.getIn(['compose', 'media_attachments']).size + state.getIn(['compose', 'pending_media_attachments']) > 3 || state.getIn(['compose', 'media_attachments']).some(function (m) {\n      return ['video', 'audio'].includes(m.get('type'));\n    }),\n    unavailable: state.getIn(['compose', 'poll']) !== null,\n    resetFileKey: state.getIn(['compose', 'resetFileKey'])\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onSelectFile(files) {\n      dispatch(uploadCompose(files));\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadButton);","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/features/compose/containers/upload_button_container.js"],"names":["connect","UploadButton","uploadCompose","mapStateToProps","state","disabled","getIn","size","some","m","includes","get","unavailable","resetFileKey","mapDispatchToProps","dispatch","onSelectFile","files"],"mappings":"AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAASC,aAAT,QAA8B,0BAA9B;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCC,IAAAA,QAAQ,EAAED,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,cAAZ,CAAZ,KAA6CF,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,mBAAZ,CAAZ,EAA8CC,IAA9C,GAAqDH,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,2BAAZ,CAAZ,CAArD,GAA6G,CAA7G,IAAkHF,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,mBAAZ,CAAZ,EAA8CE,IAA9C,CAAmD,UAAAC,CAAC;AAAA,aAAI,CAAC,OAAD,EAAU,OAAV,EAAmBC,QAAnB,CAA4BD,CAAC,CAACE,GAAF,CAAM,MAAN,CAA5B,CAAJ;AAAA,KAApD,CADzI;AAEhCC,IAAAA,WAAW,EAAER,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,MAAZ,CAAZ,MAAqC,IAFlB;AAGhCO,IAAAA,YAAY,EAAET,KAAK,CAACE,KAAN,CAAY,CAAC,SAAD,EAAY,cAAZ,CAAZ;AAHkB,GAAL;AAAA,CAA7B;;AAMA,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AAEtCC,IAAAA,YAAY,CAAEC,KAAF,EAAS;AACnBF,MAAAA,QAAQ,CAACb,aAAa,CAACe,KAAD,CAAd,CAAR;AACD;;AAJqC,GAAL;AAAA,CAAnC;;AAQA,eAAejB,OAAO,CAACG,eAAD,EAAkBW,kBAAlB,CAAP,CAA6Cb,YAA7C,CAAf","sourcesContent":["import { connect } from 'react-redux';\nimport UploadButton from '../components/upload_button';\nimport { uploadCompose } from '../../../actions/compose';\n\nconst mapStateToProps = state => ({\n  disabled: state.getIn(['compose', 'is_uploading']) || (state.getIn(['compose', 'media_attachments']).size + state.getIn(['compose', 'pending_media_attachments']) > 3 || state.getIn(['compose', 'media_attachments']).some(m => ['video', 'audio'].includes(m.get('type')))),\n  unavailable: state.getIn(['compose', 'poll']) !== null,\n  resetFileKey: state.getIn(['compose', 'resetFileKey']),\n});\n\nconst mapDispatchToProps = dispatch => ({\n\n  onSelectFile (files) {\n    dispatch(uploadCompose(files));\n  },\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadButton);\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}