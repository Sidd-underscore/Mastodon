{"ast":null,"code":"// taken from:\n// https://github.com/twitter/twemoji/blob/47732c7/twemoji-generator.js#L848-L866\nexports.unicodeToFilename = function (str) {\n  var result = '';\n  var charCode = 0;\n  var p = 0;\n  var i = 0;\n\n  while (i < str.length) {\n    charCode = str.charCodeAt(i++);\n\n    if (p) {\n      if (result.length > 0) {\n        result += '-';\n      }\n\n      result += (0x10000 + (p - 0xD800 << 10) + (charCode - 0xDC00)).toString(16);\n      p = 0;\n    } else if (0xD800 <= charCode && charCode <= 0xDBFF) {\n      p = charCode;\n    } else {\n      if (result.length > 0) {\n        result += '-';\n      }\n\n      result += charCode.toString(16);\n    }\n  }\n\n  return result;\n};","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/features/emoji/unicode_to_filename.js"],"names":["exports","unicodeToFilename","str","result","charCode","p","i","length","charCodeAt","toString"],"mappings":"AAAA;AACA;AACAA,OAAO,CAACC,iBAAR,GAA4B,UAACC,GAAD,EAAS;AACnC,MAAIC,MAAM,GAAG,EAAb;AACA,MAAIC,QAAQ,GAAG,CAAf;AACA,MAAIC,CAAC,GAAG,CAAR;AACA,MAAIC,CAAC,GAAG,CAAR;;AACA,SAAOA,CAAC,GAAGJ,GAAG,CAACK,MAAf,EAAuB;AACrBH,IAAAA,QAAQ,GAAGF,GAAG,CAACM,UAAJ,CAAeF,CAAC,EAAhB,CAAX;;AACA,QAAID,CAAJ,EAAO;AACL,UAAIF,MAAM,CAACI,MAAP,GAAgB,CAApB,EAAuB;AACrBJ,QAAAA,MAAM,IAAI,GAAV;AACD;;AACDA,MAAAA,MAAM,IAAI,CAAC,WAAYE,CAAC,GAAG,MAAL,IAAgB,EAA3B,KAAkCD,QAAQ,GAAG,MAA7C,CAAD,EAAuDK,QAAvD,CAAgE,EAAhE,CAAV;AACAJ,MAAAA,CAAC,GAAG,CAAJ;AACD,KAND,MAMO,IAAI,UAAUD,QAAV,IAAsBA,QAAQ,IAAI,MAAtC,EAA8C;AACnDC,MAAAA,CAAC,GAAGD,QAAJ;AACD,KAFM,MAEA;AACL,UAAID,MAAM,CAACI,MAAP,GAAgB,CAApB,EAAuB;AACrBJ,QAAAA,MAAM,IAAI,GAAV;AACD;;AACDA,MAAAA,MAAM,IAAIC,QAAQ,CAACK,QAAT,CAAkB,EAAlB,CAAV;AACD;AACF;;AACD,SAAON,MAAP;AACD,CAvBD","sourcesContent":["// taken from:\n// https://github.com/twitter/twemoji/blob/47732c7/twemoji-generator.js#L848-L866\nexports.unicodeToFilename = (str) => {\n  let result = '';\n  let charCode = 0;\n  let p = 0;\n  let i = 0;\n  while (i < str.length) {\n    charCode = str.charCodeAt(i++);\n    if (p) {\n      if (result.length > 0) {\n        result += '-';\n      }\n      result += (0x10000 + ((p - 0xD800) << 10) + (charCode - 0xDC00)).toString(16);\n      p = 0;\n    } else if (0xD800 <= charCode && charCode <= 0xDBFF) {\n      p = charCode;\n    } else {\n      if (result.length > 0) {\n        result += '-';\n      }\n      result += charCode.toString(16);\n    }\n  }\n  return result;\n};\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}