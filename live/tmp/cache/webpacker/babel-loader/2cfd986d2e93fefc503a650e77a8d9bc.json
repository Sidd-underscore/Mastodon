{"ast":null,"code":"var _jsxFileName = \"/home/runner/Mastodon/live/app/javascript/mastodon/components/display_name.js\";\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { autoPlayGif } from 'mastodon/initial_state';\n\nvar DisplayName = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(DisplayName, _React$PureComponent);\n\n  function DisplayName() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n\n    _this.handleMouseEnter = function (_ref) {\n      var currentTarget = _ref.currentTarget;\n\n      if (autoPlayGif) {\n        return;\n      }\n\n      var emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n      for (var i = 0; i < emojis.length; i++) {\n        var emoji = emojis[i];\n        emoji.src = emoji.getAttribute('data-original');\n      }\n    };\n\n    _this.handleMouseLeave = function (_ref2) {\n      var currentTarget = _ref2.currentTarget;\n\n      if (autoPlayGif) {\n        return;\n      }\n\n      var emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n      for (var i = 0; i < emojis.length; i++) {\n        var emoji = emojis[i];\n        emoji.src = emoji.getAttribute('data-static');\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = DisplayName.prototype;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        others = _this$props.others,\n        localDomain = _this$props.localDomain;\n    var displayName, suffix, account;\n\n    if (others && others.size > 1) {\n      displayName = others.take(2).map(function (a) {\n        return /*#__PURE__*/React.createElement(\"bdi\", {\n          key: a.get('id'),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          className: \"display-name__html\",\n          dangerouslySetInnerHTML: {\n            __html: a.get('display_name_html')\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 68\n          }\n        }));\n      }).reduce(function (prev, cur) {\n        return [prev, ', ', cur];\n      });\n\n      if (others.size - 2 > 0) {\n        suffix = \"+\" + (others.size - 2);\n      }\n    } else {\n      if (others && others.size > 0) {\n        account = others.first();\n      } else {\n        account = this.props.account;\n      }\n\n      var acct = account.get('acct');\n\n      if (acct.indexOf('@') === -1 && localDomain) {\n        acct = acct + \"@\" + localDomain;\n      }\n\n      displayName = /*#__PURE__*/React.createElement(\"bdi\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        className: \"display-name__html\",\n        dangerouslySetInnerHTML: {\n          __html: account.get('display_name_html')\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 26\n        }\n      }));\n      suffix = /*#__PURE__*/React.createElement(\"span\", {\n        className: \"display-name__account\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }\n      }, \"@\", acct);\n    }\n\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"display-name\",\n      onMouseEnter: this.handleMouseEnter,\n      onMouseLeave: this.handleMouseLeave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, displayName, \" \", suffix);\n  };\n\n  return DisplayName;\n}(React.PureComponent);\n\nDisplayName.propTypes = {\n  account: ImmutablePropTypes.map.isRequired,\n  others: ImmutablePropTypes.list,\n  localDomain: PropTypes.string\n};\nexport { DisplayName as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/components/display_name.js"],"names":["React","ImmutablePropTypes","PropTypes","autoPlayGif","DisplayName","handleMouseEnter","currentTarget","emojis","querySelectorAll","i","length","emoji","src","getAttribute","handleMouseLeave","render","props","others","localDomain","displayName","suffix","account","size","take","map","a","get","__html","reduce","prev","cur","first","acct","indexOf","PureComponent","propTypes","isRequired","list","string"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { autoPlayGif } from 'mastodon/initial_state';\n\nexport default class DisplayName extends React.PureComponent {\n\n  static propTypes = {\n    account: ImmutablePropTypes.map.isRequired,\n    others: ImmutablePropTypes.list,\n    localDomain: PropTypes.string,\n  };\n\n  handleMouseEnter = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-original');\n    }\n  }\n\n  handleMouseLeave = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-static');\n    }\n  }\n\n  render () {\n    const { others, localDomain } = this.props;\n\n    let displayName, suffix, account;\n\n    if (others && others.size > 1) {\n      displayName = others.take(2).map(a => <bdi key={a.get('id')}><strong className='display-name__html' dangerouslySetInnerHTML={{ __html: a.get('display_name_html') }} /></bdi>).reduce((prev, cur) => [prev, ', ', cur]);\n\n      if (others.size - 2 > 0) {\n        suffix = `+${others.size - 2}`;\n      }\n    } else {\n      if (others && others.size > 0) {\n        account = others.first();\n      } else {\n        account = this.props.account;\n      }\n\n      let acct = account.get('acct');\n\n      if (acct.indexOf('@') === -1 && localDomain) {\n        acct = `${acct}@${localDomain}`;\n      }\n\n      displayName = <bdi><strong className='display-name__html' dangerouslySetInnerHTML={{ __html: account.get('display_name_html') }} /></bdi>;\n      suffix      = <span className='display-name__account'>@{acct}</span>;\n    }\n\n    return (\n      <span className='display-name' onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        {displayName} {suffix}\n      </span>\n    );\n  }\n\n}\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}