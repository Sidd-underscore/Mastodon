{"ast":null,"code":"function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport { ScrollContainer as OriginalScrollContainer } from 'react-router-scroll-4'; // ScrollContainer is used to automatically scroll to the top when pushing a\n// new history state and remembering the scroll position when going back.\n// There are a few things we need to do differently, though.\n\nvar defaultShouldUpdateScroll = function defaultShouldUpdateScroll(prevRouterProps, _ref) {\n  var _location$state, _location$state2, _prevRouterProps$loca, _prevRouterProps$loca2;\n\n  var location = _ref.location;\n  // If the change is caused by opening a modal, do not scroll to top\n  return !((_location$state = location.state) != null && _location$state.mastodonModalKey && ((_location$state2 = location.state) == null ? void 0 : _location$state2.mastodonModalKey) !== (prevRouterProps == null ? void 0 : (_prevRouterProps$loca = prevRouterProps.location) == null ? void 0 : (_prevRouterProps$loca2 = _prevRouterProps$loca.state) == null ? void 0 : _prevRouterProps$loca2.mastodonModalKey));\n};\n\nvar ScrollContainer = /*#__PURE__*/function (_OriginalScrollContai) {\n  _inheritsLoose(ScrollContainer, _OriginalScrollContai);\n\n  function ScrollContainer() {\n    return _OriginalScrollContai.apply(this, arguments) || this;\n  }\n\n  return ScrollContainer;\n}(OriginalScrollContainer);\n\nScrollContainer.defaultProps = {\n  shouldUpdateScroll: defaultShouldUpdateScroll\n};\nexport { ScrollContainer as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/containers/scroll_container.js"],"names":["ScrollContainer","OriginalScrollContainer","defaultShouldUpdateScroll","prevRouterProps","location","state","mastodonModalKey","defaultProps","shouldUpdateScroll"],"mappings":";;;;AAAA,SAASA,eAAe,IAAIC,uBAA5B,QAA2D,uBAA3D,C,CAEA;AACA;AACA;;AACA,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,eAAD,QAAmC;AAAA;;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACnE;AACA,SAAO,EAAE,mBAAAA,QAAQ,CAACC,KAAT,6BAAgBC,gBAAhB,IAAoC,qBAAAF,QAAQ,CAACC,KAAT,sCAAgBC,gBAAhB,OAAqCH,eAArC,6CAAqCA,eAAe,CAAEC,QAAtD,+CAAqC,sBAA2BC,KAAhE,qBAAqC,uBAAkCC,gBAAvE,CAAtC,CAAP;AACD,CAHD;;IAMMN,e;;;;;;;;EAAwBC,uB;;AAAxBD,e,CAEGO,Y,GAAe;AACpBC,EAAAA,kBAAkB,EAAEN;AADA,C;SAFlBF,e","sourcesContent":["import { ScrollContainer as OriginalScrollContainer } from 'react-router-scroll-4';\n\n// ScrollContainer is used to automatically scroll to the top when pushing a\n// new history state and remembering the scroll position when going back.\n// There are a few things we need to do differently, though.\nconst defaultShouldUpdateScroll = (prevRouterProps, { location }) => {\n  // If the change is caused by opening a modal, do not scroll to top\n  return !(location.state?.mastodonModalKey && location.state?.mastodonModalKey !== prevRouterProps?.location?.state?.mastodonModalKey);\n};\n\nexport default\nclass ScrollContainer extends OriginalScrollContainer {\n\n  static defaultProps = {\n    shouldUpdateScroll: defaultShouldUpdateScroll,\n  };\n\n}\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}