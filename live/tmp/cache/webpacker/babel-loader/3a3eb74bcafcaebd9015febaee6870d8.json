{"ast":null,"code":"var _jsxFileName = \"/home/runner/Mastodon/live/app/javascript/mastodon/components/avatar_composite.js\";\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { autoPlayGif } from '../initial_state';\n\nvar AvatarComposite = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(AvatarComposite, _React$PureComponent);\n\n  function AvatarComposite() {\n    return _React$PureComponent.apply(this, arguments) || this;\n  }\n\n  var _proto = AvatarComposite.prototype;\n\n  _proto.renderItem = function renderItem(account, size, index) {\n    var animate = this.props.animate;\n    var width = 50;\n    var height = 100;\n    var top = 'auto';\n    var left = 'auto';\n    var bottom = 'auto';\n    var right = 'auto';\n\n    if (size === 1) {\n      width = 100;\n    }\n\n    if (size === 4 || size === 3 && index > 0) {\n      height = 50;\n    }\n\n    if (size === 2) {\n      if (index === 0) {\n        right = '1px';\n      } else {\n        left = '1px';\n      }\n    } else if (size === 3) {\n      if (index === 0) {\n        right = '1px';\n      } else if (index > 0) {\n        left = '1px';\n      }\n\n      if (index === 1) {\n        bottom = '1px';\n      } else if (index > 1) {\n        top = '1px';\n      }\n    } else if (size === 4) {\n      if (index === 0 || index === 2) {\n        right = '1px';\n      }\n\n      if (index === 1 || index === 3) {\n        left = '1px';\n      }\n\n      if (index < 2) {\n        bottom = '1px';\n      } else {\n        top = '1px';\n      }\n    }\n\n    var style = {\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: width + \"%\",\n      height: height + \"%\",\n      backgroundSize: 'cover',\n      backgroundImage: \"url(\" + account.get(animate ? 'avatar' : 'avatar_static') + \")\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: account.get('id'),\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    });\n  };\n\n  _proto.render = function render() {\n    var _this = this;\n\n    var _this$props = this.props,\n        accounts = _this$props.accounts,\n        size = _this$props.size;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"account__avatar-composite\",\n      style: {\n        width: size + \"px\",\n        height: size + \"px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, accounts.take(4).map(function (account, i) {\n      return _this.renderItem(account, Math.min(accounts.size, 4), i);\n    }), accounts.size > 4 && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"account__avatar-composite__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, \"+\", accounts.size - 4));\n  };\n\n  return AvatarComposite;\n}(React.PureComponent);\n\nAvatarComposite.propTypes = {\n  accounts: ImmutablePropTypes.list.isRequired,\n  animate: PropTypes.bool,\n  size: PropTypes.number.isRequired\n};\nAvatarComposite.defaultProps = {\n  animate: autoPlayGif\n};\nexport { AvatarComposite as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/components/avatar_composite.js"],"names":["React","PropTypes","ImmutablePropTypes","autoPlayGif","AvatarComposite","renderItem","account","size","index","animate","props","width","height","top","left","bottom","right","style","backgroundSize","backgroundImage","get","render","accounts","take","map","i","Math","min","PureComponent","propTypes","list","isRequired","bool","number","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { autoPlayGif } from '../initial_state';\n\nexport default class AvatarComposite extends React.PureComponent {\n\n  static propTypes = {\n    accounts: ImmutablePropTypes.list.isRequired,\n    animate: PropTypes.bool,\n    size: PropTypes.number.isRequired,\n  };\n\n  static defaultProps = {\n    animate: autoPlayGif,\n  };\n\n  renderItem (account, size, index) {\n    const { animate } = this.props;\n\n    let width  = 50;\n    let height = 100;\n    let top    = 'auto';\n    let left   = 'auto';\n    let bottom = 'auto';\n    let right  = 'auto';\n\n    if (size === 1) {\n      width = 100;\n    }\n\n    if (size === 4 || (size === 3 && index > 0)) {\n      height = 50;\n    }\n\n    if (size === 2) {\n      if (index === 0) {\n        right = '1px';\n      } else {\n        left = '1px';\n      }\n    } else if (size === 3) {\n      if (index === 0) {\n        right = '1px';\n      } else if (index > 0) {\n        left = '1px';\n      }\n\n      if (index === 1) {\n        bottom = '1px';\n      } else if (index > 1) {\n        top = '1px';\n      }\n    } else if (size === 4) {\n      if (index === 0 || index === 2) {\n        right = '1px';\n      }\n\n      if (index === 1 || index === 3) {\n        left = '1px';\n      }\n\n      if (index < 2) {\n        bottom = '1px';\n      } else {\n        top = '1px';\n      }\n    }\n\n    const style = {\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: `${width}%`,\n      height: `${height}%`,\n      backgroundSize: 'cover',\n      backgroundImage: `url(${account.get(animate ? 'avatar' : 'avatar_static')})`,\n    };\n\n    return (\n      <div key={account.get('id')} style={style} />\n    );\n  }\n\n  render() {\n    const { accounts, size } = this.props;\n\n    return (\n      <div className='account__avatar-composite' style={{ width: `${size}px`, height: `${size}px` }}>\n        {accounts.take(4).map((account, i) => this.renderItem(account, Math.min(accounts.size, 4), i))}\n\n        {accounts.size > 4 && (\n          <span className='account__avatar-composite__label'>\n            +{accounts.size - 4}\n          </span>\n        )}\n      </div>\n    );\n  }\n\n}\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}