{"ast":null,"code":"var _excluded = [\"href\", \"children\", \"className\", \"onInterceptClick\"];\nvar _jsxFileName = \"/home/runner/Mastodon/live/app/javascript/mastodon/components/permalink.js\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Permalink = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Permalink, _React$PureComponent);\n\n  function Permalink() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n\n    _this.handleClick = function (e) {\n      if (_this.props.onInterceptClick && _this.props.onInterceptClick()) {\n        e.preventDefault();\n        return;\n      }\n\n      if (_this.context.router && e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n        e.preventDefault();\n\n        _this.context.router.history.push(_this.props.to);\n      }\n    };\n\n    return _this;\n  }\n\n  var _proto = Permalink.prototype;\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        href = _this$props.href,\n        children = _this$props.children,\n        className = _this$props.className,\n        onInterceptClick = _this$props.onInterceptClick,\n        other = _objectWithoutPropertiesLoose(_this$props, _excluded);\n\n    return /*#__PURE__*/React.createElement(\"a\", _extends({\n      target: \"_blank\",\n      href: href,\n      onClick: this.handleClick\n    }, other, {\n      className: \"permalink\" + (className ? ' ' + className : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }), children);\n  };\n\n  return Permalink;\n}(React.PureComponent);\n\nPermalink.contextTypes = {\n  router: PropTypes.object\n};\nPermalink.propTypes = {\n  className: PropTypes.string,\n  href: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired,\n  children: PropTypes.node,\n  onInterceptClick: PropTypes.func\n};\nexport { Permalink as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/components/permalink.js"],"names":["React","PropTypes","Permalink","handleClick","e","props","onInterceptClick","preventDefault","context","router","button","ctrlKey","metaKey","history","push","to","render","href","children","className","other","PureComponent","contextTypes","object","propTypes","string","isRequired","node","func"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;IAEqBC,S;;;;;;;;;;;;UAcnBC,W,GAAc,UAAAC,CAAC,EAAI;AACjB,UAAI,MAAKC,KAAL,CAAWC,gBAAX,IAA+B,MAAKD,KAAL,CAAWC,gBAAX,EAAnC,EAAkE;AAChEF,QAAAA,CAAC,CAACG,cAAF;AACA;AACD;;AAED,UAAI,MAAKC,OAAL,CAAaC,MAAb,IAAuBL,CAAC,CAACM,MAAF,KAAa,CAApC,IAAyC,EAAEN,CAAC,CAACO,OAAF,IAAaP,CAAC,CAACQ,OAAjB,CAA7C,EAAwE;AACtER,QAAAA,CAAC,CAACG,cAAF;;AACA,cAAKC,OAAL,CAAaC,MAAb,CAAoBI,OAApB,CAA4BC,IAA5B,CAAiC,MAAKT,KAAL,CAAWU,EAA5C;AACD;AACF,K;;;;;;;SAEDC,M,GAAA,kBAAU;AACR,sBAAkE,KAAKX,KAAvE;AAAA,QAAQY,IAAR,eAAQA,IAAR;AAAA,QAAcC,QAAd,eAAcA,QAAd;AAAA,QAAwBC,SAAxB,eAAwBA,SAAxB;AAAA,QAAmCb,gBAAnC,eAAmCA,gBAAnC;AAAA,QAAwDc,KAAxD;;AAEA,wBACE;AAAG,MAAA,MAAM,EAAC,QAAV;AAAmB,MAAA,IAAI,EAAEH,IAAzB;AAA+B,MAAA,OAAO,EAAE,KAAKd;AAA7C,OAA8DiB,KAA9D;AAAqE,MAAA,SAAS,iBAAcD,SAAS,GAAG,MAAMA,SAAT,GAAqB,EAA5C,CAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QACGD,QADH,CADF;AAKD,G;;;EAlCoClB,KAAK,CAACqB,a;;AAAxBnB,S,CAEZoB,Y,GAAe;AACpBb,EAAAA,MAAM,EAAER,SAAS,CAACsB;AADE,C;AAFHrB,S,CAMZsB,S,GAAY;AACjBL,EAAAA,SAAS,EAAElB,SAAS,CAACwB,MADJ;AAEjBR,EAAAA,IAAI,EAAEhB,SAAS,CAACwB,MAAV,CAAiBC,UAFN;AAGjBX,EAAAA,EAAE,EAAEd,SAAS,CAACwB,MAAV,CAAiBC,UAHJ;AAIjBR,EAAAA,QAAQ,EAAEjB,SAAS,CAAC0B,IAJH;AAKjBrB,EAAAA,gBAAgB,EAAEL,SAAS,CAAC2B;AALX,C;SANA1B,S","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Permalink extends React.PureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  static propTypes = {\n    className: PropTypes.string,\n    href: PropTypes.string.isRequired,\n    to: PropTypes.string.isRequired,\n    children: PropTypes.node,\n    onInterceptClick: PropTypes.func,\n  };\n\n  handleClick = e => {\n    if (this.props.onInterceptClick && this.props.onInterceptClick()) {\n      e.preventDefault();\n      return;\n    }\n\n    if (this.context.router && e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      this.context.router.history.push(this.props.to);\n    }\n  }\n\n  render () {\n    const { href, children, className, onInterceptClick, ...other } = this.props;\n\n    return (\n      <a target='_blank' href={href} onClick={this.handleClick} {...other} className={`permalink${className ? ' ' + className : ''}`}>\n        {children}\n      </a>\n    );\n  }\n\n}\n"]},"metadata":{"react-intl":{"messages":[]}},"sourceType":"module"}