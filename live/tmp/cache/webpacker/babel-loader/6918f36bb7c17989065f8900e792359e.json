{"ast":null,"code":"var _jsxFileName = \"/home/runner/Mastodon/live/app/javascript/mastodon/components/status_content.js\";\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport Permalink from './permalink';\nimport classnames from 'classnames';\nimport PollContainer from 'mastodon/containers/poll_container';\nimport Icon from 'mastodon/components/icon';\nimport { autoPlayGif } from 'mastodon/initial_state';\nvar MAX_HEIGHT = 642; // 20px * 32 (+ 2px padding at the top)\n\nvar StatusContent = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(StatusContent, _React$PureComponent);\n\n  function StatusContent() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      hidden: true\n    };\n\n    _this.handleMouseEnter = function (_ref) {\n      var currentTarget = _ref.currentTarget;\n\n      if (autoPlayGif) {\n        return;\n      }\n\n      var emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n      for (var i = 0; i < emojis.length; i++) {\n        var emoji = emojis[i];\n        emoji.src = emoji.getAttribute('data-original');\n      }\n    };\n\n    _this.handleMouseLeave = function (_ref2) {\n      var currentTarget = _ref2.currentTarget;\n\n      if (autoPlayGif) {\n        return;\n      }\n\n      var emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n      for (var i = 0; i < emojis.length; i++) {\n        var emoji = emojis[i];\n        emoji.src = emoji.getAttribute('data-static');\n      }\n    };\n\n    _this.onMentionClick = function (mention, e) {\n      if (_this.context.router && e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n        e.preventDefault();\n\n        _this.context.router.history.push(\"/accounts/\" + mention.get('id'));\n      }\n    };\n\n    _this.onHashtagClick = function (hashtag, e) {\n      hashtag = hashtag.replace(/^#/, '');\n\n      if (_this.context.router && e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n        e.preventDefault();\n\n        _this.context.router.history.push(\"/timelines/tag/\" + hashtag);\n      }\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.startXY = [e.clientX, e.clientY];\n    };\n\n    _this.handleMouseUp = function (e) {\n      if (!_this.startXY) {\n        return;\n      }\n\n      var _this$startXY = _this.startXY,\n          startX = _this$startXY[0],\n          startY = _this$startXY[1];\n      var _ref3 = [Math.abs(e.clientX - startX), Math.abs(e.clientY - startY)],\n          deltaX = _ref3[0],\n          deltaY = _ref3[1];\n      var element = e.target;\n\n      while (element) {\n        if (element.localName === 'button' || element.localName === 'a' || element.localName === 'label') {\n          return;\n        }\n\n        element = element.parentNode;\n      }\n\n      if (deltaX + deltaY < 5 && e.button === 0 && _this.props.onClick) {\n        _this.props.onClick();\n      }\n\n      _this.startXY = null;\n    };\n\n    _this.handleSpoilerClick = function (e) {\n      e.preventDefault();\n\n      if (_this.props.onExpandedToggle) {\n        // The parent manages the state\n        _this.props.onExpandedToggle();\n      } else {\n        _this.setState({\n          hidden: !_this.state.hidden\n        });\n      }\n    };\n\n    _this.setRef = function (c) {\n      _this.node = c;\n    };\n\n    return _this;\n  }\n\n  var _proto = StatusContent.prototype;\n\n  _proto._updateStatusLinks = function _updateStatusLinks() {\n    var _this2 = this;\n\n    var node = this.node;\n\n    if (!node) {\n      return;\n    }\n\n    var links = node.querySelectorAll('a');\n\n    var _loop = function _loop() {\n      var link = links[i];\n\n      if (link.classList.contains('status-link')) {\n        return \"continue\";\n      }\n\n      link.classList.add('status-link');\n\n      var mention = _this2.props.status.get('mentions').find(function (item) {\n        return link.href === item.get('url');\n      });\n\n      if (mention) {\n        link.addEventListener('click', _this2.onMentionClick.bind(_this2, mention), false);\n        link.setAttribute('title', mention.get('acct'));\n      } else if (link.textContent[0] === '#' || link.previousSibling && link.previousSibling.textContent && link.previousSibling.textContent[link.previousSibling.textContent.length - 1] === '#') {\n        link.addEventListener('click', _this2.onHashtagClick.bind(_this2, link.text), false);\n      } else {\n        link.setAttribute('title', link.href);\n        link.classList.add('unhandled-link');\n      }\n\n      link.setAttribute('target', '_blank');\n      link.setAttribute('rel', 'noopener noreferrer');\n    };\n\n    for (var i = 0; i < links.length; ++i) {\n      var _ret = _loop();\n\n      if (_ret === \"continue\") continue;\n    }\n\n    if (this.props.status.get('collapsed', null) === null) {\n      var collapsed = this.props.collapsable && this.props.onClick && node.clientHeight > MAX_HEIGHT && this.props.status.get('spoiler_text').length === 0;\n      if (this.props.onCollapsedToggle) this.props.onCollapsedToggle(collapsed);\n      this.props.status.set('collapsed', collapsed);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._updateStatusLinks();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this._updateStatusLinks();\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var status = this.props.status;\n    var hidden = this.props.onExpandedToggle ? !this.props.expanded : this.state.hidden;\n    var renderReadMore = this.props.onClick && status.get('collapsed');\n    var renderViewThread = this.props.showThread && status.get('in_reply_to_id') && status.get('in_reply_to_account_id') === status.getIn(['account', 'id']);\n    var content = {\n      __html: status.get('contentHtml')\n    };\n    var spoilerContent = {\n      __html: status.get('spoilerHtml')\n    };\n    var classNames = classnames('status__content', {\n      'status__content--with-action': this.props.onClick && this.context.router,\n      'status__content--with-spoiler': status.get('spoiler_text').length > 0,\n      'status__content--collapsed': renderReadMore\n    });\n    var showThreadButton = /*#__PURE__*/React.createElement(\"button\", {\n      className: \"status__content__read-more-button\",\n      onClick: this.props.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"status.show_thread\",\n      defaultMessage: \"Show thread\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }\n    }));\n    var readMoreButton = /*#__PURE__*/React.createElement(\"button\", {\n      className: \"status__content__read-more-button\",\n      onClick: this.props.onClick,\n      key: \"read-more\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"status.read_more\",\n      defaultMessage: \"Read more\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Icon, {\n      id: \"angle-right\",\n      fixedWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 78\n      }\n    }));\n\n    if (status.get('spoiler_text').length > 0) {\n      var mentionsPlaceholder = '';\n      var mentionLinks = status.get('mentions').map(function (item) {\n        return /*#__PURE__*/React.createElement(Permalink, {\n          to: \"/accounts/\" + item.get('id'),\n          href: item.get('url'),\n          key: item.get('id'),\n          className: \"mention\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 9\n          }\n        }, \"@\", /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 12\n          }\n        }, item.get('username')));\n      }).reduce(function (aggregate, item) {\n        return [].concat(aggregate, [item, ' ']);\n      }, []);\n      var toggleText = hidden ? /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"status.show_more\",\n        defaultMessage: \"Show more\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 35\n        }\n      }) : /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: \"status.show_less\",\n        defaultMessage: \"Show less\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 107\n        }\n      });\n\n      if (hidden) {\n        mentionsPlaceholder = /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 31\n          }\n        }, mentionLinks);\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames,\n        ref: this.setRef,\n        tabIndex: \"0\",\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          marginBottom: hidden && status.get('mentions').isEmpty() ? '0px' : null\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        dangerouslySetInnerHTML: spoilerContent,\n        className: \"translate\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }), ' ', /*#__PURE__*/React.createElement(\"button\", {\n        tabIndex: \"0\",\n        className: \"status__content__spoiler-link \" + (hidden ? 'status__content__spoiler-link--show-more' : 'status__content__spoiler-link--show-less'),\n        onClick: this.handleSpoilerClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }, toggleText)), mentionsPlaceholder, /*#__PURE__*/React.createElement(\"div\", {\n        tabIndex: !hidden ? 0 : null,\n        className: \"status__content__text \" + (!hidden ? 'status__content__text--visible' : '') + \" translate\",\n        dangerouslySetInnerHTML: content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }\n      }), !hidden && !!status.get('poll') && /*#__PURE__*/React.createElement(PollContainer, {\n        pollId: status.get('poll'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 47\n        }\n      }), renderViewThread && showThreadButton);\n    } else if (this.props.onClick) {\n      var output = [/*#__PURE__*/React.createElement(\"div\", {\n        className: classNames,\n        ref: this.setRef,\n        tabIndex: \"0\",\n        onMouseDown: this.handleMouseDown,\n        onMouseUp: this.handleMouseUp,\n        key: \"status-content\",\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"status__content__text status__content__text--visible translate\",\n        dangerouslySetInnerHTML: content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }\n      }), !!status.get('poll') && /*#__PURE__*/React.createElement(PollContainer, {\n        pollId: status.get('poll'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 36\n        }\n      }), renderViewThread && showThreadButton)];\n\n      if (renderReadMore) {\n        output.push(readMoreButton);\n      }\n\n      return output;\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames,\n        ref: this.setRef,\n        tabIndex: \"0\",\n        onMouseEnter: this.handleMouseEnter,\n        onMouseLeave: this.handleMouseLeave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"status__content__text status__content__text--visible translate\",\n        dangerouslySetInnerHTML: content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }\n      }), !!status.get('poll') && /*#__PURE__*/React.createElement(PollContainer, {\n        pollId: status.get('poll'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 36\n        }\n      }), renderViewThread && showThreadButton);\n    }\n  };\n\n  return StatusContent;\n}(React.PureComponent);\n\nStatusContent.contextTypes = {\n  router: PropTypes.object\n};\nStatusContent.propTypes = {\n  status: ImmutablePropTypes.map.isRequired,\n  expanded: PropTypes.bool,\n  showThread: PropTypes.bool,\n  onExpandedToggle: PropTypes.func,\n  onClick: PropTypes.func,\n  collapsable: PropTypes.bool,\n  onCollapsedToggle: PropTypes.func\n};\nexport { StatusContent as default };","map":{"version":3,"sources":["/home/runner/Mastodon/live/app/javascript/mastodon/components/status_content.js"],"names":["React","ImmutablePropTypes","PropTypes","FormattedMessage","Permalink","classnames","PollContainer","Icon","autoPlayGif","MAX_HEIGHT","StatusContent","state","hidden","handleMouseEnter","currentTarget","emojis","querySelectorAll","i","length","emoji","src","getAttribute","handleMouseLeave","onMentionClick","mention","e","context","router","button","ctrlKey","metaKey","preventDefault","history","push","get","onHashtagClick","hashtag","replace","handleMouseDown","startXY","clientX","clientY","handleMouseUp","startX","startY","Math","abs","deltaX","deltaY","element","target","localName","parentNode","props","onClick","handleSpoilerClick","onExpandedToggle","setState","setRef","c","node","_updateStatusLinks","links","link","classList","contains","add","status","find","item","href","addEventListener","bind","setAttribute","textContent","previousSibling","text","collapsed","collapsable","clientHeight","onCollapsedToggle","set","componentDidMount","componentDidUpdate","render","expanded","renderReadMore","renderViewThread","showThread","getIn","content","__html","spoilerContent","classNames","showThreadButton","readMoreButton","mentionsPlaceholder","mentionLinks","map","reduce","aggregate","toggleText","marginBottom","isEmpty","output","PureComponent","contextTypes","object","propTypes","isRequired","bool","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport Permalink from './permalink';\nimport classnames from 'classnames';\nimport PollContainer from 'mastodon/containers/poll_container';\nimport Icon from 'mastodon/components/icon';\nimport { autoPlayGif } from 'mastodon/initial_state';\n\nconst MAX_HEIGHT = 642; // 20px * 32 (+ 2px padding at the top)\n\nexport default class StatusContent extends React.PureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object,\n  };\n\n  static propTypes = {\n    status: ImmutablePropTypes.map.isRequired,\n    expanded: PropTypes.bool,\n    showThread: PropTypes.bool,\n    onExpandedToggle: PropTypes.func,\n    onClick: PropTypes.func,\n    collapsable: PropTypes.bool,\n    onCollapsedToggle: PropTypes.func,\n  };\n\n  state = {\n    hidden: true,\n  };\n\n  _updateStatusLinks () {\n    const node = this.node;\n\n    if (!node) {\n      return;\n    }\n\n    const links = node.querySelectorAll('a');\n\n    for (var i = 0; i < links.length; ++i) {\n      let link = links[i];\n      if (link.classList.contains('status-link')) {\n        continue;\n      }\n      link.classList.add('status-link');\n\n      let mention = this.props.status.get('mentions').find(item => link.href === item.get('url'));\n\n      if (mention) {\n        link.addEventListener('click', this.onMentionClick.bind(this, mention), false);\n        link.setAttribute('title', mention.get('acct'));\n      } else if (link.textContent[0] === '#' || (link.previousSibling && link.previousSibling.textContent && link.previousSibling.textContent[link.previousSibling.textContent.length - 1] === '#')) {\n        link.addEventListener('click', this.onHashtagClick.bind(this, link.text), false);\n      } else {\n        link.setAttribute('title', link.href);\n        link.classList.add('unhandled-link');\n      }\n\n      link.setAttribute('target', '_blank');\n      link.setAttribute('rel', 'noopener noreferrer');\n    }\n\n    if (this.props.status.get('collapsed', null) === null) {\n      let collapsed =\n          this.props.collapsable\n          && this.props.onClick\n          && node.clientHeight > MAX_HEIGHT\n          && this.props.status.get('spoiler_text').length === 0;\n\n      if(this.props.onCollapsedToggle) this.props.onCollapsedToggle(collapsed);\n\n      this.props.status.set('collapsed', collapsed);\n    }\n  }\n\n  handleMouseEnter = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-original');\n    }\n  }\n\n  handleMouseLeave = ({ currentTarget }) => {\n    if (autoPlayGif) {\n      return;\n    }\n\n    const emojis = currentTarget.querySelectorAll('.custom-emoji');\n\n    for (var i = 0; i < emojis.length; i++) {\n      let emoji = emojis[i];\n      emoji.src = emoji.getAttribute('data-static');\n    }\n  }\n\n  componentDidMount () {\n    this._updateStatusLinks();\n  }\n\n  componentDidUpdate () {\n    this._updateStatusLinks();\n  }\n\n  onMentionClick = (mention, e) => {\n    if (this.context.router && e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      this.context.router.history.push(`/accounts/${mention.get('id')}`);\n    }\n  }\n\n  onHashtagClick = (hashtag, e) => {\n    hashtag = hashtag.replace(/^#/, '');\n\n    if (this.context.router && e.button === 0 && !(e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      this.context.router.history.push(`/timelines/tag/${hashtag}`);\n    }\n  }\n\n  handleMouseDown = (e) => {\n    this.startXY = [e.clientX, e.clientY];\n  }\n\n  handleMouseUp = (e) => {\n    if (!this.startXY) {\n      return;\n    }\n\n    const [ startX, startY ] = this.startXY;\n    const [ deltaX, deltaY ] = [Math.abs(e.clientX - startX), Math.abs(e.clientY - startY)];\n\n    let element = e.target;\n    while (element) {\n      if (element.localName === 'button' || element.localName === 'a' || element.localName === 'label') {\n        return;\n      }\n      element = element.parentNode;\n    }\n\n    if (deltaX + deltaY < 5 && e.button === 0 && this.props.onClick) {\n      this.props.onClick();\n    }\n\n    this.startXY = null;\n  }\n\n  handleSpoilerClick = (e) => {\n    e.preventDefault();\n\n    if (this.props.onExpandedToggle) {\n      // The parent manages the state\n      this.props.onExpandedToggle();\n    } else {\n      this.setState({ hidden: !this.state.hidden });\n    }\n  }\n\n  setRef = (c) => {\n    this.node = c;\n  }\n\n  render () {\n    const { status } = this.props;\n\n    const hidden = this.props.onExpandedToggle ? !this.props.expanded : this.state.hidden;\n    const renderReadMore = this.props.onClick && status.get('collapsed');\n    const renderViewThread = this.props.showThread && status.get('in_reply_to_id') && status.get('in_reply_to_account_id') === status.getIn(['account', 'id']);\n\n    const content = { __html: status.get('contentHtml') };\n    const spoilerContent = { __html: status.get('spoilerHtml') };\n    const classNames = classnames('status__content', {\n      'status__content--with-action': this.props.onClick && this.context.router,\n      'status__content--with-spoiler': status.get('spoiler_text').length > 0,\n      'status__content--collapsed': renderReadMore,\n    });\n\n    const showThreadButton = (\n      <button className='status__content__read-more-button' onClick={this.props.onClick}>\n        <FormattedMessage id='status.show_thread' defaultMessage='Show thread' />\n      </button>\n    );\n\n    const readMoreButton = (\n      <button className='status__content__read-more-button' onClick={this.props.onClick} key='read-more'>\n        <FormattedMessage id='status.read_more' defaultMessage='Read more' /><Icon id='angle-right' fixedWidth />\n      </button>\n    );\n\n    if (status.get('spoiler_text').length > 0) {\n      let mentionsPlaceholder = '';\n\n      const mentionLinks = status.get('mentions').map(item => (\n        <Permalink to={`/accounts/${item.get('id')}`} href={item.get('url')} key={item.get('id')} className='mention'>\n          @<span>{item.get('username')}</span>\n        </Permalink>\n      )).reduce((aggregate, item) => [...aggregate, item, ' '], []);\n\n      const toggleText = hidden ? <FormattedMessage id='status.show_more' defaultMessage='Show more' /> : <FormattedMessage id='status.show_less' defaultMessage='Show less' />;\n\n      if (hidden) {\n        mentionsPlaceholder = <div>{mentionLinks}</div>;\n      }\n\n      return (\n        <div className={classNames} ref={this.setRef} tabIndex='0' onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <p style={{ marginBottom: hidden && status.get('mentions').isEmpty() ? '0px' : null }}>\n            <span dangerouslySetInnerHTML={spoilerContent} className='translate' />\n            {' '}\n            <button tabIndex='0' className={`status__content__spoiler-link ${hidden ? 'status__content__spoiler-link--show-more' : 'status__content__spoiler-link--show-less'}`} onClick={this.handleSpoilerClick}>{toggleText}</button>\n          </p>\n\n          {mentionsPlaceholder}\n\n          <div tabIndex={!hidden ? 0 : null} className={`status__content__text ${!hidden ? 'status__content__text--visible' : ''} translate`} dangerouslySetInnerHTML={content} />\n\n          {!hidden && !!status.get('poll') && <PollContainer pollId={status.get('poll')} />}\n\n          {renderViewThread && showThreadButton}\n        </div>\n      );\n    } else if (this.props.onClick) {\n      const output = [\n        <div className={classNames} ref={this.setRef} tabIndex='0' onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp} key='status-content' onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <div className='status__content__text status__content__text--visible translate' dangerouslySetInnerHTML={content} />\n\n          {!!status.get('poll') && <PollContainer pollId={status.get('poll')} />}\n\n          {renderViewThread && showThreadButton}\n        </div>,\n      ];\n\n      if (renderReadMore) {\n        output.push(readMoreButton);\n      }\n\n      return output;\n    } else {\n      return (\n        <div className={classNames} ref={this.setRef} tabIndex='0' onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <div className='status__content__text status__content__text--visible translate' dangerouslySetInnerHTML={content} />\n\n          {!!status.get('poll') && <PollContainer pollId={status.get('poll')} />}\n\n          {renderViewThread && showThreadButton}\n        </div>\n      );\n    }\n  }\n\n}\n"]},"metadata":{"react-intl":{"messages":[{"id":"status.show_thread","defaultMessage":"Show thread"},{"id":"status.read_more","defaultMessage":"Read more"},{"id":"status.show_more","defaultMessage":"Show more"},{"id":"status.show_less","defaultMessage":"Show less"}]}},"sourceType":"module"}